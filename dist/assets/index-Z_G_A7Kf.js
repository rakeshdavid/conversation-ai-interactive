import{a as Ce,r as n,j as e,m as ze,u as I,d as Ee,e as Y,f as q,g as K,h as Ae,D as Ie,i as Me,k as Oe,l as Re}from"./vendor-C_cMdbCj.js";import{t as De,c as Le,a as W,S as Pe,T as Q,I as Ve,C as G,b as Z,d as $e,e as ee,P as Be,f as te,V as Ue,L as re,g as ae,h as Xe,i as Ye,j as qe,k as se,R as Ge,l as $,m as oe,M as B,n as ne,o as U,p as Fe,q as Je,r as le,s as ie,A as ce,u as de,X as He,v as ue,D as me,w as Ke}from"./ui-C4lhuUJZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var fe,F=Ce;fe=F.createRoot,F.hydrateRoot;function i(...a){return De(Le(a))}const We=W("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-sm",{variants:{variant:{default:"bg-gradient-to-r from-[rgb(var(--color-deep-purple))] to-[rgb(var(--color-teal))] text-white hover:shadow-md hover:opacity-90 transform hover:scale-[1.02] active:scale-[0.98]",destructive:"bg-gradient-to-r from-[rgb(var(--color-pink))] to-[rgb(var(--color-deep-purple))] text-white hover:shadow-md hover:opacity-90 transform hover:scale-[1.02] active:scale-[0.98]",outline:"border-2 border-[rgb(var(--color-teal))] bg-background text-[rgb(var(--color-deep-purple))] hover:bg-[rgba(var(--color-teal),0.1)] hover:border-[rgb(var(--color-deep-purple))] transform hover:scale-[1.02] active:scale-[0.98]",secondary:"bg-gradient-to-r from-[rgba(var(--color-deep-purple),0.8)] to-[rgba(var(--color-teal),0.8)] text-white hover:shadow-md hover:opacity-90 transform hover:scale-[1.02] active:scale-[0.98]",ghost:"hover:bg-[rgba(var(--color-teal),0.1)] hover:text-[rgb(var(--color-deep-purple))] text-[rgb(var(--color-deep-purple))]",link:"text-[rgb(var(--color-teal))] underline-offset-4 hover:text-[rgb(var(--color-deep-purple))] hover:underline",maslow:"bg-gradient-to-r from-[rgb(var(--color-deep-purple))] via-[rgb(var(--color-pink))] to-[rgb(var(--color-teal))] text-white hover:shadow-md hover:opacity-90 transform hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8 font-semibold",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=n.forwardRef(({className:a,variant:t,size:r,asChild:s=!1,...o},l)=>{const c=s?Pe:"button";return e.jsx(c,{className:i(We({variant:t,size:r,className:a})),ref:l,...o})});C.displayName="Button";const pe=({text:a,colors:t={first:"#6DC4AD",second:"#401877"},className:r,sparklesCount:s=10,...o})=>{const[l,c]=n.useState([]);return n.useEffect(()=>{const d=()=>{const m=`${Math.random()*100}%`,f=`${Math.random()*100}%`,N=Math.random()>.5?t.first:t.second,h=Math.random()*2,x=Math.random()*1+.3,w=Math.random()*10+5;return{id:`${m}-${f}-${Date.now()}`,x:m,y:f,color:N,delay:h,scale:x,lifespan:w}},u=()=>{const m=Array.from({length:s},d);c(m)},v=()=>{c(m=>m.map(f=>f.lifespan<=0?d():{...f,lifespan:f.lifespan-.1}))};u();const p=setInterval(v,100);return()=>clearInterval(p)},[t.first,t.second,s]),e.jsx("div",{className:i("text-4xl font-bold",r),...o,style:{"--sparkles-first-color":`${t.first}`,"--sparkles-second-color":`${t.second}`},children:e.jsxs("span",{className:"relative inline-block",children:[l.map(d=>e.jsx(Qe,{...d},d.id)),e.jsx("strong",{children:a})]})})},Qe=({id:a,x:t,y:r,color:s,delay:o,scale:l})=>e.jsx(ze.svg,{className:"pointer-events-none absolute z-20",initial:{opacity:0,left:t,top:r},animate:{opacity:[0,1,0],scale:[0,l,0],rotate:[75,120,150]},transition:{duration:.8,repeat:1/0,delay:o},width:"21",height:"21",viewBox:"0 0 21 21",children:e.jsx("path",{d:"M9.82531 0.843845C10.0553 0.215178 10.9446 0.215178 11.1746 0.843845L11.8618 2.72026C12.4006 4.19229 12.3916 6.39157 13.5 7.5C14.6084 8.60843 16.8077 8.59935 18.2797 9.13822L20.1561 9.82534C20.7858 10.0553 20.7858 10.9447 20.1561 11.1747L18.2797 11.8618C16.8077 12.4007 14.6084 12.3916 13.5 13.5C12.3916 14.6084 12.4006 16.8077 11.8618 18.2798L11.1746 20.1562C10.9446 20.7858 10.0553 20.7858 9.82531 20.1562L9.13819 18.2798C8.59932 16.8077 8.60843 14.6084 7.5 13.5C6.39157 12.3916 4.19225 12.4007 2.72023 11.8618L0.843814 11.1747C0.215148 10.9447 0.215148 10.0553 0.843814 9.82534L2.72023 9.13822C4.19225 8.59935 6.39157 8.60843 7.5 7.5C8.60843 6.39157 8.59932 4.19229 9.13819 2.72026L9.82531 0.843845Z",fill:s})},a),Ze=({onStart:a,loading:t})=>e.jsx("div",{className:"flex flex-col items-center justify-center h-screen gap-10 p-10 relative z-10",children:e.jsxs("div",{className:"card-feature max-w-2xl w-full p-8 transition-all hover:shadow-lg",children:[e.jsx("img",{src:"/maslow-black-logo.png",alt:"Maslow AI Logo",className:"max-w-xs mx-auto mb-6"}),e.jsx("div",{className:"mb-8 text-center",children:e.jsx(pe,{text:"Conversational AI",colors:{first:"rgb(var(--color-teal))",second:"rgb(var(--color-deep-purple))"},className:"text-2xl font-medium text-[rgb(var(--color-dark-blue))]"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(C,{onClick:a,className:"button-primary text-lg px-12 py-6 transition-all hover:scale-105",children:t?e.jsx("span",{className:"flex items-center gap-2",children:e.jsx("span",{className:"animate-pulse",children:"Loading..."})}):"Start Conversation"})})]})}),et=Ge,ve=n.forwardRef(({className:a,children:t,...r},s)=>e.jsxs(Q,{ref:s,className:i("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[t,e.jsx(Ve,{asChild:!0,children:e.jsx(G,{className:"h-4 w-4 opacity-50"})})]}));ve.displayName=Q.displayName;const he=n.forwardRef(({className:a,...t},r)=>e.jsx(Z,{ref:r,className:i("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx($e,{className:"h-4 w-4"})}));he.displayName=Z.displayName;const xe=n.forwardRef(({className:a,...t},r)=>e.jsx(ee,{ref:r,className:i("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(G,{className:"h-4 w-4"})}));xe.displayName=ee.displayName;const ge=n.forwardRef(({className:a,children:t,position:r="popper",...s},o)=>e.jsx(Be,{children:e.jsxs(te,{ref:o,className:i("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...s,children:[e.jsx(he,{}),e.jsx(Ue,{className:i("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(xe,{})]})}));ge.displayName=te.displayName;const tt=n.forwardRef(({className:a,...t},r)=>e.jsx(re,{ref:r,className:i("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...t}));tt.displayName=re.displayName;const be=n.forwardRef(({className:a,children:t,...r},s)=>e.jsxs(ae,{ref:s,className:i("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Xe,{children:e.jsx(Ye,{className:"h-4 w-4"})})}),e.jsx(qe,{children:t})]}));be.displayName=ae.displayName;const rt=n.forwardRef(({className:a,...t},r)=>e.jsx(se,{ref:r,className:i("-mx-1 my-1 h-px bg-muted",a),...t}));rt.displayName=se.displayName;const L=({value:a,devices:t,onChange:r,Icon:s})=>{const o=t.find(({device:c})=>c.deviceId===a),l=(o==null?void 0:o.device.label)||(t.length===1?t[0].device.label:"Select device");return e.jsxs(et,{value:a,onValueChange:r,children:[e.jsx(ve,{className:"h-10 rounded-md border-none bg-gradient-to-r from-[rgba(var(--color-deep-purple),0.7)] to-[rgba(var(--color-teal),0.7)] text-white shadow-md hover:from-[rgba(var(--color-deep-purple),0.8)] hover:to-[rgba(var(--color-teal),0.8)] transition-all duration-300 min-w-[10rem]",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 truncate",children:[e.jsx(s,{size:18,className:"text-black flex-shrink-0"}),e.jsx("span",{className:"truncate font-medium text-black",children:l})]}),e.jsx(G,{className:"ml-2 h-4 w-4 opacity-70 text-black flex-shrink-0"})]})}),e.jsx(ge,{className:"z-50 bg-white/95 backdrop-blur-sm border border-[rgba(var(--color-teal),0.3)] rounded-md shadow-lg",children:t.map(({device:c})=>e.jsx(be,{value:c.deviceId,className:"hover:bg-[rgba(var(--color-teal),0.1)] rounded-sm text-sm py-2 cursor-pointer font-medium focus:bg-[rgba(var(--color-teal),0.2)] focus:text-[rgb(var(--color-deep-purple))] data-[state=checked]:bg-[rgba(var(--color-teal),0.2)] data-[state=checked]:text-[rgb(var(--color-deep-purple))] text-black",children:c.label||`Device ${c.deviceId.slice(0,5)}...`},c.deviceId))})]})},we=({actionLabel:a,onAction:t,cancelLabel:r,onCancel:s,actionVariant:o})=>{var z,b,_;const l=I(),{currentCam:c,currentMic:d,currentSpeaker:u,microphones:v,speakers:p,cameras:m,setMicrophone:f,setCamera:N,setSpeaker:h,refreshDevices:x}=Ee(),w=Y(),j=q(w),M=K(w),g=!j.isOff,y=!M.isOff,[S,O]=n.useState(!1);Ae("camera-error",n.useCallback(()=>{O(!0)},[]));const R=()=>{l==null||l.setLocalVideo(!g)},D=()=>{l==null||l.setLocalAudio(!y)};return e.jsxs("div",{className:"relative w-full max-w-screen-md flex flex-col items-center justify-center mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center w-full",children:[S&&e.jsx("button",{onClick:()=>{x()},className:"px-6 py-3 rounded-md bg-[rgb(var(--color-teal))] text-white font-medium transition-all hover:bg-[rgb(var(--color-teal-variant-2))]",children:"Turn on Camera & Microphone"}),!S&&e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-5 w-full max-w-3xl mx-auto p-4 bg-white/10 backdrop-blur-sm rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:R,className:`p-3 rounded-md text-white shadow-md ${g?"bg-[rgb(var(--color-teal))]":"bg-[rgb(var(--color-deep-purple))]"} transition-all hover:opacity-90 hover:shadow-lg transform hover:scale-105 active:scale-95`,"aria-label":g?"Turn off camera":"Turn on camera",children:g?e.jsx($,{className:"size-5"}):e.jsx(oe,{className:"size-5"})}),e.jsx("div",{className:"w-40 md:w-48",children:e.jsx(L,{value:(z=c==null?void 0:c.device)==null?void 0:z.deviceId,devices:m,onChange:k=>N(k),Icon:$})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:D,className:`p-3 rounded-md text-white shadow-md ${y?"bg-[rgb(var(--color-teal))]":"bg-[rgb(var(--color-deep-purple))]"} transition-all hover:opacity-90 hover:shadow-lg transform hover:scale-105 active:scale-95`,"aria-label":y?"Turn off microphone":"Turn on microphone",children:y?e.jsx(B,{className:"size-5"}):e.jsx(ne,{className:"size-5"})}),e.jsx("div",{className:"w-40 md:w-48",children:e.jsx(L,{value:(b=d==null?void 0:d.device)==null?void 0:b.deviceId,devices:v,onChange:k=>f(k),Icon:B})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-[rgb(var(--color-teal))] rounded-md shadow-md",children:e.jsx(U,{className:"size-5 text-white"})}),e.jsx("div",{className:"w-40 md:w-48",children:e.jsx(L,{value:(_=u==null?void 0:u.device)==null?void 0:_.deviceId,devices:p,onChange:k=>h(k),Icon:U})})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[r&&e.jsx(C,{variant:"outline",onClick:s,className:"border-[rgb(var(--color-pink))] text-[rgb(var(--color-pink))] hover:bg-[rgba(var(--color-pink),0.1)] hover:text-[rgb(var(--color-pink))] font-medium transition-all",children:r}),a&&e.jsx(C,{onClick:t,variant:o||"default",className:"px-6 py-3 font-semibold",children:a})]})]})},X=({id:a,className:t})=>{const r=q(a);return e.jsx(Ie,{automirror:!0,sessionId:a,type:"video",className:i("h-auto bg-gradient-to-r from-[rgba(var(--color-deep-purple),0.2)] to-[rgba(var(--color-teal),0.2)] rounded-lg shadow-md transition-all duration-300",t,{hidden:r.isOff})})},at=({handleJoin:a,handleEnd:t})=>{const r=Y(),s=I();return n.useEffect(()=>{s&&(s==null||s.startCamera({startVideoOff:!1,startAudioOff:!1}))},[s,r]),e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 relative z-10",children:[e.jsxs("div",{className:"card max-w-4xl w-full p-6 mb-6",children:[e.jsx("img",{src:"/maslow-black-logo.png",alt:"Maslow AI Logo",className:"max-w-xs mx-auto mb-4"}),e.jsx("div",{className:"rounded-lg overflow-hidden shadow-md border-2 border-[rgb(var(--color-teal))] mb-4",children:e.jsx(X,{id:r,className:"max-h-[70vh] w-full object-cover"})})]}),e.jsx("div",{className:"card max-w-4xl w-full p-6",children:e.jsx(we,{actionLabel:"Join Call",onAction:a,cancelLabel:"Cancel",onCancel:t})})]})},st=()=>{const a=Me({filter:"remote"}),t=Y(),[r,s]=n.useState("full"),o=I(),l=q(t),c=K(t),d=!l.isOff,u=!c.isOff,v=()=>{s(f=>f==="full"?"minimal":"full")},p=()=>{o==null||o.setLocalVideo(!d)},m=()=>{o==null||o.setLocalAudio(!u)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:i("flex items-center justify-center",{"fixed bottom-20 right-20":r==="minimal"}),children:e.jsxs("div",{className:"relative",children:[e.jsxs(C,{variant:"outline",onClick:v,className:"absolute top-2 right-2 z-10 gap-2",size:"sm",children:[r==="full"?"Minimize":"Maximize",r==="full"?e.jsx(Fe,{className:"size-4"}):e.jsx(Je,{className:"size-4"})]}),e.jsxs("div",{className:i("absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-3 bg-white/20 backdrop-blur-md p-3 rounded-full shadow-lg border border-[rgba(var(--color-teal),0.4)]",{"w-auto":r==="full","w-32 justify-center":r==="minimal"}),children:[e.jsx("button",{onClick:p,className:`p-3 rounded-full text-white shadow-md ${d?"bg-[rgb(var(--color-teal))]":"bg-[rgb(var(--color-deep-purple))]"} transition-all hover:opacity-90 hover:shadow-lg transform hover:scale-105 active:scale-95`,"aria-label":d?"Turn off camera":"Turn on camera",children:d?e.jsx($,{className:"size-5"}):e.jsx(oe,{className:"size-5"})}),e.jsx("button",{onClick:m,className:`p-3 rounded-full text-white shadow-md ${u?"bg-[rgb(var(--color-teal))]":"bg-[rgb(var(--color-deep-purple))]"} transition-all hover:opacity-90 hover:shadow-lg transform hover:scale-105 active:scale-95`,"aria-label":u?"Turn off microphone":"Turn on microphone",children:u?e.jsx(B,{className:"size-5"}):e.jsx(ne,{className:"size-5"})}),r==="full"&&e.jsx("div",{className:"flex items-center justify-center bg-[rgb(var(--color-pink))] p-3 rounded-full shadow-md text-white",children:e.jsx(U,{className:"size-5"})})]}),a.length>0?e.jsx(X,{id:a[0],className:i({"max-h-[50vh] min-h-[20rem]":r==="full","max-h-[15rem]":r==="minimal"})}):e.jsx("div",{className:"relative flex items-center justify-center size-[50vh]",children:e.jsx("p",{className:"text-2xl text-black",children:"Waiting for others to join..."})}),t&&e.jsx(X,{id:t,className:i("absolute bottom-2 right-2",{"max-h-40":r==="full","max-h-20":r==="minimal"})})]})}),e.jsx(Oe,{})]})},ot=({conversation:a,handleEnd:t})=>{const r=I();n.useEffect(()=>{if(a&&r){const{conversation_url:o}=a;r.join({url:o})}},[r,a]);const s=async()=>{await(r==null?void 0:r.leave()),t()};return e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 relative z-10",children:[e.jsxs("div",{className:"card max-w-4xl w-full p-6 mb-6 bg-white/10 backdrop-blur-sm rounded-lg shadow-lg border border-[rgba(var(--color-teal),0.3)]",children:[e.jsx("img",{src:"/maslow-black-logo.png",alt:"Maslow AI Logo",className:"max-w-xs mx-auto mb-4"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(pe,{text:"Conversational AI",colors:{first:"rgb(var(--color-teal))",second:"rgb(var(--color-deep-purple))"},className:"text-center text-3xl font-semibold"})}),e.jsx("div",{className:"rounded-lg overflow-hidden shadow-md border-2 border-[rgb(var(--color-teal))] mb-4 relative",children:e.jsx(st,{})})]}),e.jsx("div",{className:"card max-w-4xl w-full p-6 bg-white/10 backdrop-blur-sm rounded-lg shadow-lg border border-[rgba(var(--color-teal),0.3)]",children:e.jsx(we,{actionLabel:"Leave Call",onAction:s,actionVariant:"destructive"})})]})},je="4b6cbc07fddf4d4b8c268db545e049e9",nt=async()=>{try{const a=new AbortController,t=setTimeout(()=>a.abort(),3e4),r=await fetch("https://tavusapi.com/v2/conversations",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":je},body:JSON.stringify({persona_id:"p9a95912"}),signal:a.signal});if(clearTimeout(t),!r.ok){const o=await r.text();throw new Error(`HTTP error! status: ${r.status}, message: ${o}`)}return await r.json()}catch(a){throw a instanceof Error&&a.name==="AbortError"?(console.error("Request timed out after 30 seconds"),new Error("Request timed out. Please try again.")):(console.error("Error creating conversation:",a),a instanceof Error?a:new Error(`An unknown error occurred during conversation creation: ${String(a)}`))}},J=async a=>{try{const t=new AbortController,r=setTimeout(()=>t.abort(),3e4),s=await fetch(`https://tavusapi.com/v2/conversations/${a}/end`,{method:"POST",headers:{"x-api-key":je},signal:t.signal});if(clearTimeout(r),!s.ok){const o=await s.text();throw new Error(`Failed to end conversation: ${s.status}, message: ${o}`)}return null}catch(t){throw t instanceof Error&&t.name==="AbortError"?(console.error("Request timed out after 30 seconds"),new Error("Request timed out. Please try again.")):(console.error("Error ending conversation:",t),t instanceof Error?t:new Error(`An unknown error occurred while ending the conversation: ${String(t)}`))}},lt=1,it=1e6;let P=0;function ct(){return P=(P+1)%Number.MAX_SAFE_INTEGER,P.toString()}const V=new Map,H=a=>{if(V.has(a))return;const t=setTimeout(()=>{V.delete(a),T({type:"REMOVE_TOAST",toastId:a})},it);V.set(a,t)},dt=(a,t)=>{switch(t.type){case"ADD_TOAST":return{...a,toasts:[t.toast,...a.toasts].slice(0,lt)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?H(r):a.toasts.forEach(s=>{H(s.id)}),{...a,toasts:a.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(r=>r.id!==t.toastId)}}},E=[];let A={toasts:[]};function T(a){A=dt(A,a),E.forEach(t=>{t(A)})}function ut({...a}){const t=ct(),r=o=>T({type:"UPDATE_TOAST",toast:{...o,id:t}}),s=()=>T({type:"DISMISS_TOAST",toastId:t});return T({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:r}}function ye(){const[a,t]=n.useState(A);return n.useEffect(()=>(E.push(t),()=>{const r=E.indexOf(t);r>-1&&E.splice(r,1)}),[a]),{...a,toast:ut,dismiss:r=>T({type:"DISMISS_TOAST",toastId:r})}}const mt=({gradientBackgroundStart:a="rgb(64, 24, 119)",gradientBackgroundEnd:t="rgb(18, 29, 53)",firstColor:r="109, 196, 173",secondColor:s="238, 123, 179",thirdColor:o="157, 75, 142",fourthColor:l="44, 213, 82",fifthColor:c="70, 157, 187",pointerColor:d="165, 111, 168",size:u="80%",blendingValue:v="hard-light",children:p,className:m,interactive:f=!0,containerClassName:N})=>{const h=n.useRef(null),[x,w]=n.useState(0),[j,M]=n.useState(0),[g,y]=n.useState(0),[S,O]=n.useState(0);n.useEffect(()=>{document.body.style.setProperty("--gradient-background-start",a),document.body.style.setProperty("--gradient-background-end",t),document.body.style.setProperty("--first-color",r),document.body.style.setProperty("--second-color",s),document.body.style.setProperty("--third-color",o),document.body.style.setProperty("--fourth-color",l),document.body.style.setProperty("--fifth-color",c),document.body.style.setProperty("--pointer-color",d),document.body.style.setProperty("--size",u),document.body.style.setProperty("--blending-value",v)},[]),n.useEffect(()=>{function b(){h.current&&(w(x+(g-x)/20),M(j+(S-j)/20),h.current.style.transform=`translate(${Math.round(x)}px, ${Math.round(j)}px)`)}b()},[g,S]);const R=b=>{if(h.current){const _=h.current.getBoundingClientRect();y(b.clientX-_.left),O(b.clientY-_.top)}},[D,z]=n.useState(!1);return n.useEffect(()=>{z(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))},[]),e.jsxs("div",{className:i("h-screen w-screen relative overflow-hidden top-0 left-0 bg-[linear-gradient(40deg,var(--gradient-background-start),var(--gradient-background-end))]",N),children:[e.jsx("svg",{className:"hidden",children:e.jsx("defs",{children:e.jsxs("filter",{id:"blurMe",children:[e.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),e.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8",result:"goo"}),e.jsx("feBlend",{in:"SourceGraphic",in2:"goo"})]})})}),e.jsx("div",{className:i("",m),children:p}),e.jsxs("div",{className:i("gradients-container h-full w-full blur-lg",D?"blur-2xl":"[filter:url(#blurMe)_blur(40px)]"),children:[e.jsx("div",{className:i("absolute [background:radial-gradient(circle_at_center,_var(--first-color)_0,_var(--first-color)_50%)_no-repeat]","[mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[calc(50%-var(--size)/2)] left-[calc(50%-var(--size)/2)]","[transform-origin:center_center]","animate-first","opacity-100")}),e.jsx("div",{className:i("absolute [background:radial-gradient(circle_at_center,_rgba(var(--second-color),_0.8)_0,_rgba(var(--second-color),_0)_50%)_no-repeat]","[mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[calc(50%-var(--size)/2)] left-[calc(50%-var(--size)/2)]","[transform-origin:calc(50%-400px)]","animate-second","opacity-100")}),e.jsx("div",{className:i("absolute [background:radial-gradient(circle_at_center,_rgba(var(--third-color),_0.8)_0,_rgba(var(--third-color),_0)_50%)_no-repeat]","[mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[calc(50%-var(--size)/2)] left-[calc(50%-var(--size)/2)]","[transform-origin:calc(50%+400px)]","animate-third","opacity-100")}),e.jsx("div",{className:i("absolute [background:radial-gradient(circle_at_center,_rgba(var(--fourth-color),_0.8)_0,_rgba(var(--fourth-color),_0)_50%)_no-repeat]","[mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[calc(50%-var(--size)/2)] left-[calc(50%-var(--size)/2)]","[transform-origin:calc(50%-200px)]","animate-fourth","opacity-70")}),e.jsx("div",{className:i("absolute [background:radial-gradient(circle_at_center,_rgba(var(--fifth-color),_0.8)_0,_rgba(var(--fifth-color),_0)_50%)_no-repeat]","[mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[calc(50%-var(--size)/2)] left-[calc(50%-var(--size)/2)]","[transform-origin:calc(50%-800px)_calc(50%+800px)]","animate-fifth","opacity-100")}),f&&e.jsx("div",{ref:h,onMouseMove:R,className:i("absolute [background:radial-gradient(circle_at_center,_rgba(var(--pointer-color),_0.8)_0,_rgba(var(--pointer-color),_0)_50%)_no-repeat]","[mix-blend-mode:var(--blending-value)] w-full h-full -top-1/2 -left-1/2","opacity-70")})]})]})};function ft(){const{toast:a}=ye(),[t,r]=n.useState("welcome"),[s,o]=n.useState(null),[l,c]=n.useState(!1);n.useEffect(()=>()=>{s&&J(s.conversation_id)},[s]);const d=async()=>{try{c(!0);const p=await nt();o(p),r("hairCheck")}catch{a({variant:"destructive",title:"Uh oh! Something went wrong.",description:"Check console for details"})}finally{c(!1)}},u=async()=>{try{if(!s)return;await J(s.conversation_id)}catch(p){console.error(p)}finally{o(null),r("welcome")}},v=()=>{r("call")};return e.jsxs("div",{className:"h-screen w-screen overflow-hidden relative",children:[e.jsx(mt,{gradientBackgroundStart:"rgb(25, 25, 25)",gradientBackgroundEnd:"rgb(8, 24, 65)",containerClassName:"fixed inset-0 z-0"}),e.jsx("div",{className:"relative z-10 h-full w-full flex items-center justify-center",children:e.jsxs(Re,{children:[t==="welcome"&&e.jsx(Ze,{onStart:d,loading:l}),t==="hairCheck"&&e.jsx(at,{handleEnd:u,handleJoin:v}),t==="call"&&s&&e.jsx(ot,{conversation:s,handleEnd:u})]})})]})}const pt=Ke,Ne=n.forwardRef(({className:a,...t},r)=>e.jsx(le,{ref:r,className:i("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...t}));Ne.displayName=le.displayName;const vt=W("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Se=n.forwardRef(({className:a,variant:t,...r},s)=>e.jsx(ie,{ref:s,className:i(vt({variant:t}),a),...r}));Se.displayName=ie.displayName;const ht=n.forwardRef(({className:a,...t},r)=>e.jsx(ce,{ref:r,className:i("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...t}));ht.displayName=ce.displayName;const _e=n.forwardRef(({className:a,...t},r)=>e.jsx(de,{ref:r,className:i("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...t,children:e.jsx(He,{className:"h-4 w-4"})}));_e.displayName=de.displayName;const ke=n.forwardRef(({className:a,...t},r)=>e.jsx(ue,{ref:r,className:i("text-sm font-semibold",a),...t}));ke.displayName=ue.displayName;const Te=n.forwardRef(({className:a,...t},r)=>e.jsx(me,{ref:r,className:i("text-sm opacity-90",a),...t}));Te.displayName=me.displayName;function xt(){const{toasts:a}=ye();return e.jsxs(pt,{children:[a.map(function({id:t,title:r,description:s,action:o,...l}){return e.jsxs(Se,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(ke,{children:r}),s&&e.jsx(Te,{children:s})]}),o,e.jsx(_e,{})]},t)}),e.jsx(Ne,{})]})}fe(document.getElementById("root")).render(e.jsxs(n.StrictMode,{children:[e.jsx(ft,{}),e.jsx(xt,{})]}));
